{"version":3,"sources":["components/commonStyling.js","components/Cell.jsx","components/GridContainer.jsx","components/Header.jsx","components/PlacementGrid.jsx","components/ShipPanel.jsx","App.js","index.js","factories/randomCoordinates.js","factories/ship.js","factories/gameboard.js","factories/player.js","factories/gamecontroller.js"],"names":["Button","styled","button","Cell","coordinates","handleHover","handleClick","handleRightClick","isHovering","ship","hit","ai","BattleCell","id","onMouseEnter","onClick","onContextMenu","div","props","includes","handleCellColour","GridContainer","playerGrid","grid","map","row","indexX","cell","indexY","clickFunction","playerTitle","GridBox","Header","useState","viewInstruction","setViewInstructions","HeaderWrapper","PlacementGrid","placingShip","placementGrid","cellID","ShipPanel","ships","playerOneRandomPlacement","startGame","allShipsPlaced","ShipPanelContainer","shipPanel","length","ShipContainer","name","ShipBox","Array","item","index","ShipCell","displayShips","gameController","require","reducer","action","type","filter","playerOne","board","shipsToPlace","Error","App","playerOneGridState","setPlayerOneGridState","playerTwo","playerTwoGridState","setPlayerTwoGridState","showShipPanel","setShowShipPanel","useReducer","dispatch","setPlacingShip","setIsHovering","setAllShipsPlaced","gameStarted","setGameStarted","gameOver","setGameOver","gameWinner","setGameWinner","useEffect","checkforWinner","winner","winCondition","PageWrapper","AppContainer","PlayerOnePlacementContainer","e","parseInt","target","horizontal","i","rowLimit","column","push","toString","columnLimit","Number","placeUserShip","preventDefault","rotate","selectedShip","obj","parentNode","clearShipsFromBoard","randomShipPlacement","TwoPlayerPlacementContainer","x","y","attack","checkHit","changeTurn","resetWinner","ReactDOM","render","StrictMode","document","getElementById","randomCoordinates","Math","floor","random","Ship","sunk","hits","fill","sinkShip","every","position","randomOrientation","Gameboard","shipNamesAndLengths","buildGrid","gridObj","buildShips","validateShipPlacement","illegalPlacement","fitShipToGrid","checkForShipClash","shipLength","startX","startY","startPosition","placeHorizontal","r","rIndex","c","cIndex","placeVertical","placeShip","newGrid","resetShips","forEach","receiveAttack","j","shipObj","find","element","checkShipHit","checkAllShipsSunk","Player","boolean","isAI","placeHit","aiAttack","GameController","playerOneTurn","restartGame"],"mappings":"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","file":"static/js/main.e04c0a0a.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Button = styled.button`\n  color: #fff;\n  text-transform: uppercase;\n  text-decoration: none;\n  background: none rgba(255, 255, 255, 0.2);\n  padding: 8px;\n  border: none;\n  border-radius: 4px;\n  display: inline-block;\n  transition: all 0.4s ease 0s;\n  margin-bottom: 5px;\n  &:hover {\n    background: none rgba(255, 255, 255, 0.4);\n    transition: all 0.4s ease 0s;\n    cursor: pointer;\n  }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Cell = ({ coordinates, handleHover, handleClick, handleRightClick, isHovering, ship, hit, ai }) => {\n  return (\n    <BattleCell\n      id={coordinates}\n      onMouseEnter={handleHover}\n      onClick={handleClick}\n      isHovering={isHovering}\n      ship={ship}\n      hit={hit}\n      onContextMenu={handleRightClick}\n      ai={ai}\n    />\n  );\n};\n\nexport default Cell;\n\nconst handleCellColour = (props) => {\n  if (props.isHovering && props.isHovering.includes(props.id)) return 'pink';\n  if (props.ship && props.hit) return 'red';\n  if (!props.ai) {\n    if (props.ship) return 'pink';\n  }\n  if (props.hit) return 'grey';\n\n  return '#df645f';\n};\n\nconst BattleCell = styled.div`\n  border: 1px solid white;\n  border-radius: 4px;\n  height: auto;\n  background: ${(props) => handleCellColour(props)};\n  transition: all 0.8s ease;\n  &:hover {\n    cursor: crosshair;\n  }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Cell from './Cell';\n\nconst GridContainer = (props) => {\n  const playerGrid = props.grid.map((row, indexX) => {\n    return row.map((cell, indexY) => {\n      return (\n        <Cell\n          key={`${indexX}${indexY}`}\n          coordinates={`${indexX}${indexY}`}\n          handleClick={props.clickFunction}\n          ship={cell.ship ? true : false}\n          hit={cell.hit ? true : false}\n          ai={props.ai}\n        />\n      );\n    });\n  });\n\n  return (\n    <div>\n      <h2>{props.playerTitle}</h2>\n      <GridBox>{playerGrid}</GridBox>\n    </div>\n  );\n};\n\nexport default GridContainer;\n\nexport const GridBox = styled.div`\n  width: 400px;\n  height: 400px;\n  display: grid;\n  grid-template-columns: repeat(10, 10%);\n  margin: 10px 20px 10px 0px;\n`;\n","import React, { Fragment, useState } from 'react';\nimport { Button } from './commonStyling';\nimport styled from 'styled-components';\n\nconst Header = () => {\n  const [viewInstruction, setViewInstructions] = useState(false);\n\n  const toggleInstructions = () => {\n    setViewInstructions((viewInstruction) => !viewInstruction);\n  };\n\n  return (\n    <HeaderWrapper>\n      <h1>Battleships</h1>\n      <p>The classic battleships game from when you were a kid (or maybe you still enjoy it?)</p>\n      <Button onClick={toggleInstructions}>{viewInstruction ? 'hide' : 'show'} instructions</Button>\n      {viewInstruction && (\n        <Fragment>\n          <p>\n            <b>Placing ships:</b> select a ship by clicking on it. Rotate the ship by right clicking inside the grid. Left click to place.\n          </p>\n          <p>\n            <b>Attacking ships:</b> select an empty cell on your opponent's grid to attack it. If you hit, you get another turn!\n          </p>\n        </Fragment>\n      )}\n    </HeaderWrapper>\n  );\n};\n\nexport default Header;\n\nconst HeaderWrapper = styled.div`\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n","import React from 'react';\nimport Cell from './Cell';\nimport { GridBox } from './GridContainer';\n\nconst PlacementGrid = ({ grid, placingShip, isHovering, handleHover, handleClick, handleRightClick }) => {\n  const placementGrid = grid.map((row, indexX) => {\n    return row.map((cell, indexY) => {\n      return (\n        <Cell\n          key={`${indexX}${indexY}`}\n          cellID={`${indexX}${indexY}`}\n          coordinates={`${indexX}${indexY}`}\n          isHovering={isHovering}\n          handleHover={handleHover}\n          handleClick={handleClick}\n          handleRightClick={handleRightClick}\n          ship={cell.ship ? true : false}\n        />\n      );\n    });\n  });\n\n  return (\n    <div>\n      <GridBox>{placementGrid}</GridBox>\n    </div>\n  );\n};\n\nexport default PlacementGrid;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Button } from './commonStyling';\n\nconst ShipPanel = ({ ships, handleClick, playerOneRandomPlacement, startGame, allShipsPlaced }) => {\n  const shipDiagram = (length) => {\n    return [...Array(length)].map((item, index) => {\n      return <ShipCell key={index} />;\n    });\n  };\n\n  function displayShips() {\n    let shipPanel;\n    if (ships.length > 0) {\n      shipPanel = ships.map((ship) => {\n        return (\n          <ShipContainer key={ship.name}>\n            <div>{ship.name}</div>\n            <ShipBox id={ship.name} onClick={handleClick}>\n              {shipDiagram(ship.length)}\n            </ShipBox>\n          </ShipContainer>\n        );\n      });\n    }\n    return shipPanel;\n  }\n\n  return (\n    <ShipPanelContainer>\n      <Button onClick={playerOneRandomPlacement}>Random Placement</Button>\n      {allShipsPlaced && <Button onClick={startGame}>Start Game</Button>}\n      {displayShips()}\n    </ShipPanelContainer>\n  );\n};\n\nexport default ShipPanel;\n\nconst ShipContainer = styled.div`\n  margin-bottom: 10px;\n`;\n\nconst ShipBox = styled.div`\n  width: 40px;\n  height: 40px;\n  display: grid;\n  grid-template-columns: repeat(5, 100%);\n  grid-auto-columns: min-content;\n`;\n\nconst ShipCell = styled.div`\n  border: 1px solid white;\n  border-radius: 4px;\n  height: auto;\n  background: pink;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst ShipPanelContainer = styled.div`\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n`;\n","import { useState, useReducer, useEffect, Fragment } from 'react';\nimport styled from 'styled-components';\nimport { Button } from './components/commonStyling';\nimport GridContainer from './components/GridContainer';\nimport Header from './components/Header';\nimport PlacementGrid from './components/PlacementGrid';\nimport ShipPanel from './components/ShipPanel';\nconst gameController = require('./factories/gamecontroller');\n\n// reducer function for managing ships that player is still to place on the board\nconst reducer = (ships, action) => {\n  switch (action.type) {\n    case 'placed ship':\n      return ships.filter((ship) => ship.name !== action.name);\n    case 'randomly placed':\n      return {};\n    case 'reset ships':\n      return gameController.playerOne.board.shipsToPlace;\n    default:\n      throw new Error('oops');\n  }\n};\n\nfunction App() {\n  // board states\n  const [playerOneGridState, setPlayerOneGridState] = useState(gameController.playerOne.board.grid);\n  const [playerTwoGridState, setPlayerTwoGridState] = useState(gameController.playerTwo.board.grid);\n\n  // state management for placing player's ships\n  const [showShipPanel, setShowShipPanel] = useState(true);\n  const [shipsToPlace, dispatch] = useReducer(reducer, gameController.playerOne.board.shipsToPlace);\n  const [placingShip, setPlacingShip] = useState(null);\n  const [isHovering, setIsHovering] = useState(null);\n  const [allShipsPlaced, setAllShipsPlaced] = useState(false);\n\n  // game state\n  const [gameStarted, setGameStarted] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n  const [gameWinner, setGameWinner] = useState(null);\n\n  useEffect(() => {\n    if (shipsToPlace.length === 0) setAllShipsPlaced(true);\n  }, [shipsToPlace]);\n\n  const handleShipPickUp = (e) => {\n    const selectedShip = shipsToPlace.filter((obj) => obj.name === e.target.parentNode.id);\n    setPlacingShip((placingShip) => selectedShip[0]);\n  };\n\n  const handlePlaceShip = (e) => {\n    if (!placingShip) return;\n    if (e.target.id >= '00' && e.target.id <= '99') {\n      const row = Number(e.target.id[0]);\n      const column = Number(e.target.id[1]);\n      let successfulPlacement = gameController.playerOne.board.placeUserShip(placingShip, row, column);\n      if (successfulPlacement) {\n        setPlayerOneGridState(gameController.playerOne.board.grid);\n        dispatch({ type: 'placed ship', name: placingShip.name });\n        setPlacingShip(null);\n        setIsHovering(false);\n      }\n    }\n  };\n\n  const handleHover = (e) => {\n    if (placingShip) {\n      const coordinates = [];\n      let cell = parseInt(e.target.id);\n      if (placingShip.horizontal) {\n        for (let i = 0; i < placingShip.length; i += 1) {\n          const row = e.target.id[0];\n          const rowLimit = parseInt(`${row}9`);\n          if (cell + placingShip.length > rowLimit) cell = rowLimit - placingShip.length + 1;\n          let column = cell + i;\n          if (column < 10) column = '0' + column;\n          coordinates.push(column.toString());\n        }\n      } else {\n        for (let i = 0; i < placingShip.length; i += 1) {\n          const column = e.target.id[1];\n          const columnLimit = parseInt(`9${column}`);\n          if (cell + placingShip.length * 10 > columnLimit) cell = columnLimit - placingShip.length * 10 + 10;\n          let row = cell + i * 10;\n          if (row < 10) row = '0' + row;\n          coordinates.push(row.toString());\n        }\n      }\n      setIsHovering((isHovering) => coordinates);\n    }\n  };\n\n  const handleRightClick = (e) => {\n    e.preventDefault();\n    if (!placingShip) return;\n    if (e.target.id >= '00' && e.target.id <= '99') {\n      placingShip.rotate();\n    }\n  };\n\n  const handleClick = (e) => {\n    const x = Number(e.target.id[0]);\n    const y = Number(e.target.id[1]);\n    if (playerTwoGridState[x][y].hit) return; // check hit has not already been placed in cell\n    let attack = gameController.playerOne.attack(gameController.playerTwo.board, x, y);\n    setPlayerTwoGridState(gameController.playerTwo.board.grid);\n    if (attack.checkHit) {\n      checkforWinner();\n      return;\n    } else gameController.changeTurn();\n    checkforWinner();\n    setPlayerOneGridState(gameController.playerOne.board.grid);\n  };\n\n  const startGame = () => {\n    setGameStarted(true);\n    setAllShipsPlaced(false);\n  };\n\n  const checkforWinner = () => {\n    let winner = gameController.winCondition();\n    if (winner) {\n      setGameWinner(`${winner} wins!`);\n      setGameOver(true);\n    }\n    winner = null;\n  };\n\n  const handlePlayAgain = () => {\n    setGameStarted(false);\n    setGameOver(false);\n    setGameWinner(null);\n    setPlayerOneGridState(gameController.playerOne.board.grid);\n    setPlayerTwoGridState(gameController.playerTwo.board.grid);\n    setShowShipPanel(true);\n    gameController.resetWinner();\n    dispatch({ type: 'reset ships' });\n  };\n\n  const playerOneRandomPlacement = () => {\n    gameController.playerOne.board.clearShipsFromBoard();\n    gameController.playerOne.board.randomShipPlacement();\n    setPlayerOneGridState(gameController.playerOne.board.grid);\n    setAllShipsPlaced(true);\n    setIsHovering(false);\n    setPlacingShip(null);\n    dispatch({ type: 'randomly placed' });\n  };\n\n  return (\n    <PageWrapper>\n      <AppContainer>\n        <Header />\n        {!gameStarted && (\n          <PlayerOnePlacementContainer>\n            <PlacementGrid\n              grid={playerOneGridState}\n              placingShip={placingShip}\n              isHovering={isHovering}\n              handleHover={handleHover}\n              handleClick={handlePlaceShip}\n              handleRightClick={handleRightClick}\n            />\n            {showShipPanel && (\n              <ShipPanel\n                ships={shipsToPlace}\n                handleClick={handleShipPickUp}\n                playerOneRandomPlacement={playerOneRandomPlacement}\n                startGame={startGame}\n                allShipsPlaced={allShipsPlaced}\n              />\n            )}\n            {/* {allShipsPlaced && <Button onClick={startGame}>start</Button>} */}\n          </PlayerOnePlacementContainer>\n        )}\n        {gameStarted && (\n          <TwoPlayerPlacementContainer>\n            <GridContainer grid={playerOneGridState} playerTitle={'Your board'} />\n            <GridContainer clickFunction={handleClick} grid={playerTwoGridState} ai={true} playerTitle={\"Enemy's board\"} />\n          </TwoPlayerPlacementContainer>\n        )}\n        {gameOver && (\n          <div>\n            <p>{gameWinner}</p>\n            <Button onClick={handlePlayAgain}>Play again</Button>\n          </div>\n        )}\n      </AppContainer>\n    </PageWrapper>\n  );\n}\n\nexport default App;\n\nconst PageWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n`;\n\nconst AppContainer = styled.div`\n  width: 600px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst PlayerOnePlacementContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  border-radius: 8px;\n  background: #df645f;\n  width: 800px;\n`;\n\nconst TwoPlayerPlacementContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  border-radius: 8px;\n  background: #df645f;\n  width: 1200px;\n`;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","const randomCoordinates = () => {\n  const x = Math.floor(Math.random() * 10);\n  const y = Math.floor(Math.random() * 10);\n  return { x, y };\n};\n\nexport default randomCoordinates;\n","import randomCoordinates from './randomCoordinates';\n\nconst Ship = (name, length) => {\n  let sunk = false;\n  let horizontal = true;\n\n  const hits = Array(length).fill(false);\n\n  const hit = (position) => {\n    if (position <= hits.length) hits[position] = true;\n    sinkShip();\n  };\n\n  const sinkShip = () => {\n    if (hits.every((hit) => hit === true)) sunk = true;\n  };\n\n  const rotate = () => {\n    horizontal = !horizontal;\n  };\n\n  const randomOrientation = () => {\n    const { x } = randomCoordinates();\n    for (let i = 0; i < x; i += 1) {\n      rotate();\n    }\n  };\n\n  return {\n    name,\n    length,\n    hit,\n    rotate,\n    randomOrientation,\n    get sunk() {\n      return sunk;\n    },\n    get hits() {\n      return hits;\n    },\n    get horizontal() {\n      return horizontal;\n    },\n  };\n};\n\nexport default Ship;\n","import Ship from './ship';\nimport randomCoordinates from './randomCoordinates';\n\nconst Gameboard = () => {\n  let grid = [];\n  const shipNamesAndLengths = [\n    { name: 'destroyer', length: 2 },\n    { name: 'submarine', length: 3 },\n    { name: 'cruiser', length: 3 },\n    { name: 'battleship', length: 4 },\n    { name: 'carrier', length: 5 },\n  ];\n  let ships = [];\n  let shipsToPlace = [];\n\n  const buildGrid = () => {\n    const gridObj = { ship: false, hit: false };\n    grid = new Array(10);\n    grid.fill(gridObj, 0);\n    for (let i = 0; i < grid.length; i += 1) {\n      grid[i] = new Array(10);\n      grid[i].fill(gridObj, 0);\n    }\n  };\n\n  const buildShips = () => shipNamesAndLengths.map((obj) => Ship(obj.name, obj.length));\n\n  const resetShips = () => (ships = buildShips());\n\n  const clearShipsFromBoard = () => buildGrid();\n\n  const validateShipPlacement = (ship, random = false, row, column) => {\n    if (random) {\n      let illegalPlacement = true;\n      let coordinates = { x: 0, y: 0 };\n      while (illegalPlacement) {\n        coordinates = randomCoordinates();\n        if (ship.horizontal === true) {\n          coordinates.y = fitShipToGrid(ship.length, coordinates.y);\n        } else {\n          coordinates.x = fitShipToGrid(ship.length, coordinates.x);\n        }\n        illegalPlacement = checkForShipClash(ship.length, ship.horizontal, coordinates.x, coordinates.y);\n      }\n      return coordinates;\n    }\n    // validation for user selected placement\n    let illegalPlacement = true;\n    let coordinates = { row, column };\n    if (ship.horizontal === true) {\n      coordinates.column = fitShipToGrid(ship.length, coordinates.column);\n    } else coordinates.row = fitShipToGrid(ship.length, coordinates.row);\n    illegalPlacement = checkForShipClash(ship.length, ship.horizontal, coordinates.row, coordinates.column);\n    if (illegalPlacement) return;\n    return coordinates;\n  };\n\n  const checkForShipClash = (shipLength, horizontal, startX, startY) => {\n    if (horizontal) {\n      for (let i = 0; i < shipLength; i += 1) {\n        if (grid[startX][startY + i].ship) {\n          return true;\n        }\n      }\n      return false;\n    }\n    for (let i = 0; i < shipLength; i += 1) {\n      if (grid[startX + i][startY].ship) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const fitShipToGrid = (shipLength, startPosition) => {\n    if (startPosition + shipLength > 9) {\n      startPosition = 9 - shipLength + 1;\n      return startPosition;\n    }\n    return startPosition;\n  };\n\n  const randomShipPlacement = () => {\n    let random = true;\n    ships.forEach((ship) => {\n      ship.randomOrientation();\n      const { x, y } = validateShipPlacement(ship, random);\n      placeShip(ship, x, y);\n    });\n  };\n\n  const placeHorizontal = (row, column, ship) =>\n    grid.map((r, rIndex) =>\n      r.map((c, cIndex) =>\n        rIndex === row && cIndex >= column && cIndex < column + ship.length ? { ...c, ship: { name: ship.name, index: cIndex - column } } : c\n      )\n    );\n\n  const placeVertical = (row, column, ship) =>\n    grid.map((r, rIndex) =>\n      r.map((c, cIndex) =>\n        cIndex === column && rIndex >= row && rIndex < row + ship.length ? { ...c, ship: { name: ship.name, index: rIndex - row } } : c\n      )\n    );\n\n  const placeShip = (ship, row, column) => {\n    let newGrid = [];\n    if (ship.horizontal) newGrid = placeHorizontal(row, column, ship);\n    else newGrid = placeVertical(row, column, ship);\n    grid = newGrid;\n    return;\n  };\n\n  const placeUserShip = (ship, row, column) => {\n    let newGrid = [];\n    let coordinates = validateShipPlacement(ship, false, row, column);\n    if (!coordinates) return false;\n    if (ship.horizontal) newGrid = placeHorizontal(coordinates.row, coordinates.column, ship);\n    else newGrid = placeVertical(coordinates.row, coordinates.column, ship);\n    grid = newGrid;\n    return true;\n  };\n\n  const findShipByName = (name) => ships.find((obj) => obj.name === name);\n\n  const checkShipHit = (i, j) => {\n    if (grid[i][j].ship !== false && grid[i][j].hit === true) return true;\n  };\n\n  const receiveAttack = (i, j) => {\n    if (grid[i][j].hit) return;\n    if (grid[i][j].ship !== false && grid[i][j].hit === false) {\n      const shipObj = grid[i][j].ship;\n      const hitShip = findShipByName(shipObj.name);\n      hitShip.hit(shipObj.index);\n    }\n    const newGrid = grid.map((row, indexX) =>\n      row.map((element, indexY) => {\n        if (indexX === i && indexY === j) {\n          return {\n            ...element,\n            hit: true,\n          };\n        }\n        return element;\n      })\n    );\n    grid = newGrid;\n    if (checkShipHit(i, j)) return true;\n    return false;\n  };\n\n  const checkAllShipsSunk = () => {\n    if (ships.every((ship) => ship.sunk === true)) return true;\n    return false;\n  };\n\n  buildGrid();\n  ships = buildShips();\n  shipsToPlace = buildShips();\n\n  return {\n    get grid() {\n      return grid;\n    },\n    get ships() {\n      return ships;\n    },\n    get shipsToPlace() {\n      return shipsToPlace;\n    },\n    buildGrid,\n    buildShips,\n    resetShips,\n    clearShipsFromBoard,\n    randomShipPlacement,\n    placeShip,\n    placeUserShip,\n    receiveAttack,\n    checkAllShipsSunk,\n  };\n};\n\nexport default Gameboard;\n","import Gameboard from './gameboard';\nimport randomCoordinates from './randomCoordinates';\n\nconst Player = (boolean) => {\n  const isAI = boolean;\n  const board = Gameboard();\n  if (isAI) board.randomShipPlacement();\n\n  const placeHit = (board, x, y) => {\n    const checkHit = board.receiveAttack(x, y);\n    return { x, y, checkHit };\n  };\n\n  const aiAttack = (board) => {\n    const { x, y } = randomCoordinates();\n    if (board.grid[x][y].hit === true) {\n      aiAttack(board);\n    }\n    const hit = placeHit(board, x, y);\n    return hit;\n  };\n\n  const attack = (board, x, y) => {\n    let hitCoordinates = {};\n    if (isAI === true) {\n      hitCoordinates = aiAttack(board);\n      return hitCoordinates;\n    }\n    hitCoordinates = placeHit(board, x, y);\n    return hitCoordinates;\n  };\n\n  return {\n    get board() {\n      return board;\n    },\n    attack,\n  };\n};\n\nexport default Player;\n","import Player from './player';\n\nconst GameController = (() => {\n  const playerOne = Player();\n  const playerTwo = Player(true);\n  let gameOver = false;\n  let winner = null;\n\n  let playerOneTurn = true;\n\n  const changeTurn = () => {\n    playerOneTurn = !playerOneTurn;\n    let hit = true;\n    if (!playerOneTurn) {\n      while (hit) {\n        let didHit = playerTwo.attack(playerOne.board);\n        if (!didHit.checkHit) hit = false;\n        if (winCondition()) hit = false; //simulate move to next round\n      }\n      changeTurn();\n    }\n  };\n\n  const restartGame = () => {\n    playerOne.board.clearShipsFromBoard();\n    playerTwo.board.clearShipsFromBoard();\n    playerOne.board.resetShips();\n    playerTwo.board.resetShips();\n    playerTwo.board.randomShipPlacement();\n  };\n\n  const winCondition = () => {\n    if (playerOneTurn) {\n      if (playerTwo.board.checkAllShipsSunk()) {\n        gameOver = true;\n        winner = 'player one';\n        restartGame();\n        return winner;\n      }\n    } else {\n      if (playerOne.board.checkAllShipsSunk()) {\n        gameOver = true;\n        winner = 'player two';\n        restartGame();\n        return winner;\n      }\n    }\n    return false;\n  };\n\n  const resetWinner = () => {\n    winner = null;\n  };\n\n  return {\n    get playerOne() {\n      return playerOne;\n    },\n    get playerTwo() {\n      return playerTwo;\n    },\n    get gameOver() {\n      return gameOver;\n    },\n    changeTurn,\n    winCondition,\n    resetWinner,\n  };\n})();\n\nexport default GameController;\n"],"sourceRoot":""}